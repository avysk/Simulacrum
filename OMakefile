.PHONY: clean

OCAMLFLAGS += -w Ae
OCAMLINCLUDES += definitions/ strategies/

.SUBDIRS: definitions strategies

FILES[] =
	simulacrum
OCAML_LIBS[] +=
	definitions/libdefinitions
	strategies/libstrategy

PROGRAM = simulacrum

.DEFAULT: $(OCamlProgram $(PROGRAM), $(FILES))

clean:
	rm -f \
		$(filter-proper-targets $(glob $(addsuffix .*, $(FILES)))) \
		$(PROGRAM).run $(PROGRAM).opt $(PROGRAM)
